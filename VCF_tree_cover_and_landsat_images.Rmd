---
title: "VCF tree cover and landsat images"
author: "Bob Houtkooper"
date: "January 13, 2016"
output: html_document
---

Setwd, create directories and download data
```{r}
#set working directory
setwd('~/bin/Exercise 8_project')
#create data map
dir.create('Data')
#download, unzip and load band images of Landsat 7
download.file(url='https://github.com/GeoScripting-WUR/AdvancedRasterAnalysis/archive/gh-pages.zip', destfile='./Data/Landsat7')
unzip('./Data/Landsat7')
load("AdvancedRasterAnalysis-gh-pages/data/GewataB1.rda")
load("AdvancedRasterAnalysis-gh-pages/data/GewataB2.rda")
load("AdvancedRasterAnalysis-gh-pages/data/GewataB3.rda")
load("AdvancedRasterAnalysis-gh-pages/data/GewataB4.rda")
load("AdvancedRasterAnalysis-gh-pages/data/GewataB5.rda")
load("AdvancedRasterAnalysis-gh-pages/data/GewataB7.rda")
load("AdvancedRasterAnalysis-gh-pages/data/vcfGewata.rda")
```

Load required packages
```{r}
library(raster)
library(sp)
```


Produce one or more plots that demonstrate the relationship between the Landsat bands and the VCF tree cover. What can you conclude from this/these plot(s)?

```{r}
#make a brick of all bands with the vcf
Gewata1 <- brick(GewataB1, vcfGewata)
Gewata2 <- brick(GewataB2, vcfGewata)
Gewata3 <- brick(GewataB3, vcfGewata)
Gewata4 <- brick(GewataB4, vcfGewata)
Gewata5 <- brick(GewataB5, vcfGewata)
Gewata6 <- brick(GewataB7, vcfGewata)
# make a scatterplot matrix
pairs(Gewata1)
pairs(Gewata2)
pairs(Gewata3)
pairs(Gewata4)
pairs(Gewata5)
pairs(Gewata6)
```
Conclusions (correlationmatrix): 
          vcf
band1     0.66
band2     0.76
band3     0.80
band4     0.18
band5     0.77
band7     0.81

Create an lm() model and show a summary (e.g. using summary()) of the model object you created. Which predictors (bands) are probably most important in predicting tree cover?

```{r, echo=FALSE}

```

Plot the predicted tree cover raster and compare with the original VCF raster.

```{r}

```

compute the RMSE between your predicted and the actual tree cover values

```{r}

```

Are the differences between the predicted and actual tree cover the same for all of the 3 classes we used for the random forest classfication? Using the training polygons from the random forest classification, calculate the RMSE separately for each of the classes and compare. 

```{r}

```



